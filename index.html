


<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/5.5.4/firebase.js"></script>

  <!-- CodeMirror -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/codemirror.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.17.0/codemirror.css" />

  <!-- Firepad -->
  <link rel="stylesheet" href="https://firepad.io/releases/v1.5.9/firepad.css" />
  <script src="https://firepad.io/releases/v1.5.9/firepad.min.js"></script>

  <style>
    html { height: 100%; }
    body { margin: 0; height: 100%; position: relative; display: flex; flex-wrap: wrap; }
    .firepad-container {
      width: 48%;
      height: 400px;
      margin: 1%;
      border: 1px solid #ccc;
    }
  </style>
</head>

<body onload="init()">

  <!-- Multiple Firepad Containers -->
  <div id="firepad-container-1" class="firepad-container"></div>
  <div id="firepad-container-2" class="firepad-container"></div>
  <div id="firepad-container-3" class="firepad-container"></div>

  <script>
    function init() {
      //// Initialize Firebase.
      const firebaseConfig = {
        apiKey: "AIzaSyCrINhKPoFzp-uA3zh1gYHF-_rtPrJStvo",
        authDomain: "firepad-web.firebaseapp.com",
        databaseURL: "https://firepad-web-default-rtdb.firebaseio.com",
        projectId: "firepad-web",
        storageBucket: "firepad-web.firebasestorage.app",
        messagingSenderId: "781381644909",
        appId: "1:781381644909:web:5cbb91811185498e0a4564",
        measurementId: "G-C3LP1GKZYE"
      };
      firebase.initializeApp(firebaseConfig);

      // Create multiple Firepad instances
      createFirepad("firepad-container-1", "firepad-doc-1");
      createFirepad("firepad-container-2", "firepad-doc-2");
      createFirepad("firepad-container-3", "firepad-doc-3");
    }

    function createFirepad(containerId, documentId) {
      //// Get Firebase Database reference for this document.
      var firepadRef = firebase.database().ref(documentId);

      //// Create CodeMirror for this container.
      var codeMirror = CodeMirror(document.getElementById(containerId), { lineWrapping: true });

      //// Create Firepad (with rich text toolbar and shortcuts enabled).
      var firepad = Firepad.fromCodeMirror(firepadRef, codeMirror, {
        richTextToolbar: true,
        richTextShortcuts: true
      });

      //// Initialize contents.
      firepad.on("ready", function () {
        if (firepad.isHistoryEmpty()) {
          firepad.setText(`Welcome to Firepad instance ${documentId}`);
        }
      });
    }
  </script>
</body>
</html>
