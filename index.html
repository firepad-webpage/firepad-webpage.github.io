<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firepad Example</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.1/codemirror.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/firepad@1.5.10/dist/firepad.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.1/codemirror.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f5f5f5;
        }
        #firepad-container {
            width: 80%;
            height: 80%;
            border: 1px solid #ccc;
            background-color: #fff;
        }
    </style>
</head>
<body>
    <div id="firepad-container"></div>

    <script>
        // Firebase Configuration (Replace with your Firebase config)
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "firebase/app";
        import { getAnalytics } from "firebase/analytics";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
        apiKey: "AIzaSyCrINhKPoFzp-uA3zh1gYHF-_rtPrJStvo",
        authDomain: "firepad-web.firebaseapp.com",
        databaseURL: "https://firepad-web-default-rtdb.firebaseio.com",
        projectId: "firepad-web",
        storageBucket: "firepad-web.firebasestorage.app",
        messagingSenderId: "781381644909",
        appId: "1:781381644909:web:5cbb91811185498e0a4564",
        measurementId: "G-C3LP1GKZYE"
        };

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);

        // Initialize CodeMirror (the text editor)
        const codeMirror = CodeMirror(document.getElementById('firepad-container'), {
            lineNumbers: true,
            mode: 'markdown',
            theme: 'default',
        });

        // Initialize Firepad with the database reference
        const firepadRef = db.ref('documents/newDocument');  // New document path in Firebase
        const firepad = Firepad.fromCodeMirror(firepadRef, codeMirror);
    </script>
</body>
</html>
