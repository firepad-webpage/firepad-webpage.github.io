<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Excerpt</title>
</head>
<body>
    <h2>Excerpt</h2>
    <p>Vector databases have become powerful tools for managing and retrieving embedding vectors, which effectively capture the semantic meaning of unstructured data.</p><p>By executing vector similarity queries, such as k-Nearest Neighbor (kNN) search, these databases can quickly retrieve relevant information based on the similarity of the embedding vectors.</p><p>Recently, vector databases have emerged as “retrieval plugins” seamlessly integrated into the generation process of Large Language Models (LLMs).</p><p>By harnessing their retrieval capabilities, we can provide relevant external data to enhance the accuracy of LLMs like ChatGPT when responding to queries that extend beyond the training data.</p><p>Vector databases have primarily been designed to handle data that do not contain private information.</p><p>In private domains, data is often highly sensitive and difficult to integrate into a single database due to regulations like GDPR.</p><p>Deploying a vector database in such application scenarios becomes even more challenging.</p><p>In the realm of medical informatics, LLMs are revolutionizing medical question answering systems.</p><p>These records contain highly sensitive patient information and are often distributed across multiple hospitals.</p><p>Due to the privacy regulations like GDPR, each hospital must independently manage its own database, often in the form of a vector database.</p><p>It is imperative to provide joint and secure query processing services across these hospitals’ local vector databases.</p><p>Data federation systems have been proposed to securely process queries across multiple data owners.</p><p>Existing work is usually designed to answer exact queries on low-dimensional data, like relational data and spatial data.</p><p>Due to the high-dimensional nature of vector data, existing solutions can be inefficient in processing federated vector similarity queries across local vector databases.</p><p>Each data owner could potentially act as a semi-honest attacker, aiming to infer sensitive information during the specified query processing protocol.</p><p>The query requester can only access information pertaining to the retrieved data, remaining unaware of the other data.</p><p>Such queries need to be processed rapidly to prevent reduction in the efficiency (e.g., inference latency of LLMs).</p><p>The query answer should be accurate and reliable enough to prevent misguidance, especially in model reasoning.</p><p>It is very challenging to achieve a balanced trade-off between query efficiency and result accuracy.</p><p>We have proposed a secure and efficient framework that processes federated vector similarity queries across multiple vector databases.</p><p>This framework leverages both local plaintext queries and collaborative secure computations.</p><p>Local plaintext queries are executed in vector databases to obtain partial results by using high-dimensional vector data indexes.</p><p>Collaborative secure computations, such as secure aggregations of these partial results, are implemented using secure multi-party computation techniques.</p><p>We have developed a user-friendly web client that enables DBAs to easily configure and monitor the vector data federation system.</p><p>We have created easy-to-integrate APIs in Python to further facilitate the incorporation of our solution into existing data retrieval and analytics workflow.</p><p>We have built a prototype system named FedSQ.</p><p>By using the open-source framework LangChain, FedSQ is integrated into a chat-based LLM and demonstrated to be useful in the application scenario of medical question answering.</p><p>FedSQ consists of three important layers, namely vector data federation, secure multi-party computation, and query coordinator layers.</p><p>Data owners can execute local vector similarity queries in vector databases.</p><p>These local vector databases provide convenient and autonomous data management services for data owners.</p><p>The contribution estimator quantifies the proportion of partial answers provided by each data owner.</p><p>The result aggregator assembles the partial answers from all data owners.</p><p>These two components are implemented via secure multi-party computation.</p><p>The query interface enables users to directly interact with the system and submit their queries.</p><p>The query parser performs syntax analysis on users’ query requests and extracts query conditions.</p><p>The query plan executor generates query plans and distributes them to the vector data federation layer.</p><p>The workflow starts with a federated vector similarity query and ends with the query answer.</p><p>Each data owner now receives the plaintext vector similarity queries.</p><p>Local answers are obtained by executing these queries within their vector databases, accelerated by vector data index.</p><p>The contribution estimator determines the proportion of partial results in each local answer.</p><p>The result aggregator collects the estimated quantity from local answers via secure operations.</p><p>The final answer will be returned to the user by the result aggregator component.</p><p>Each data owner facilitates local vector similarity queries via efficient index like HNSW.</p><p>The maximum number of connections per node is set to 16 in HNSW, and 200 candidate neighbors are saved per node.</p><p>The number of candidate neighbors accessed during the search phase of HNSW is dynamically adjusted.</p><p>The secure multi-party computation layer is integrated into a Django backend.</p><p>The CrypTen library is employed to implement secure operation protocols.</p><p>The Protobuf library enables efficient communication among the data owners.</p><p>The estimator begins by uniformly sampling from all data owners to construct profiles.</p><p>Specific non-uniform sampling techniques are employed to seek the complete query result.</p><p>Each data owner will hold his local kNN answers.</p><p>The estimator can deduce which vector database potentially holds more relevant data.</p><p>An iterative process is employed to seek more samples from this database.</p><p>A secure set union operator collects the vectors and their raw data as the final answer.</p><p>A user-friendly front-end query interface is developed utilizing the Vue.js framework.</p><p>We also integrate the Celery task queue for efficient asynchronous execution of query tasks.</p><p>FedSQ offers a unified interface for query users.</p><p>Query users can obtain essential information about the vector data federation.</p><p>Users can view both the current and historical query results.</p><p>Users can download the retrieved vector embeddings and the corresponding raw data.</p><p>The data schema displays the available attributes of the vector data federation.</p><p>DBAs can manage the schema through interface controls.</p><p>The DBAs of this vector data federation system can remove or add data owners flexibly.</p><p>FedSQ provides a graphical module to show the current status of the vector data federation.</p><p>The interface allows users to input queries, adjust LLM parameters, and obtain results.</p><p>When users ask questions without FedSQ, the LLM relies solely on its internal knowledge.</p><p>By using LangChain to integrate FedSQ, the LLM collaborates with external vector databases.</p><p>The model can access fresh data, ensuring that the outputs are based on the latest and most relevant information.</p>
    <h2>Original Abstract</h2> 
    <p>Vector databases have emerged as crucial tools for managing and retrieving representation embeddings of unstructured data. Given the explosive growth of data, vector data is often distributed and stored across multiple organizations. However, privacy concerns and regulations like GDPR present new challenges in collaborative and secure queries, also known as federated queries, over those vector data distributed across various data owners. Although existing research has attempted to enable such query services for low-dimensional data, such as relational and spatial data, these solutions can be inefficient in answering vector similarity queries involving high-dimensional data. Therefore, we are motivated to develop a new prototype system called FedSQ that (1) ensures privacy protection across data owners and (2) balances query efficiency and result accuracy when processing federated vector similarity queries. To achieve these goals, FedSQ utilizes advanced secure multi-party computation techniques to prevent information leakage during query processing and incorporates indexing and sampling based optimizations to strike a proper performance balance.</p>
</body>
</html>
