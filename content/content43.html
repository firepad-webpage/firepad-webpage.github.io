<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Excerpt</title>
</head>
<body>
    <h2>Excerpt</h2>
    <p>Autonomous Vehicles (AVs) are set to bring about a paradigm shift in transportation.</p><p>AVs operate through the use of advanced Autonomous Driving Systems (ADSs), which eliminate the need for human drivers to control the vehicle’s movements.</p><p>ADSs are considered highly security-critical systems, as malfunctions can result in severe consequences.</p><p>Given that on-road testing suffers from several limitations (such as safety risks and high expenses), simulation-based testing in high-fidelity simulators such as SVL and CARLA has emerged as a popular approach for evaluating AVs.</p><p>While these methods are effective at finding different violations, they typically do not provide insight into the specific decisions and actions of the AV that ultimately caused the violations.</p><p>Such information is critical for engineers to improve the safety and reliability of AVs but is time-consuming and laborious to extract manually, especially in large-scale testing frameworks.</p><p>Causality analysis has been proposed within the software engineering community as a means to assist developers in deducing the underlying causes of faulty behaviors observed in a failed test case.</p><p>Unfortunately, given an AV accident recording extracted from a simulator, it is non-trivial to apply existing causality analysis techniques due to two main challenges.</p><p>First, ADSs consist of multiple independent, decoupled modules that communicate via message passing.</p><p>Second, the analysis space of a typical accident recording is huge, requiring new approaches for identifying the accident-related segments that should be focused on.</p><p>To address these challenges, we present ACAV, a framework for Automatic Causality analysis of AV accident recordings.</p><p>In the first stage, we define and apply feature extraction schemas based on the messages exchanged between ADS modules.</p><p>These schemas are used to vectorize information about the map, as well as the AV’s perception, prediction, and planning.</p><p>In the second stage, we identify safety-critical frames using an a priori method based on safety specifications extracted from the driver’s handbook and traffic laws of California.</p><p>To evaluate the effectiveness of our framework, we implemented it for Apollo 7.0 and the SVL simulator.</p><p>We applied ACAV to vectorize and simplify these recordings, finding that ACAV achieved a 62.23% reduction ratio rate without discarding critical frames.</p><p>Upon analyzing the simplified recordings with CAT, our approach identifies five distinct types of causal events in 93.64% of the recordings.</p><p>The ADSs of AVs are composed of various modules, including perception, localization, prediction, planning, and control.</p><p>Each module subscribes to one or more channels in the ADS to obtain the required inputs and publishes its output as a message to the corresponding channels.</p><p>Behavioral and motion planning are critical tasks of the planning module, translating the path obtained from route planning into a series of waypoints by calculating specific speed and acceleration plans.</p><p>The longitudinal behavioral and motion planning can be visualized effectively in a Station-Time graph (ST graph), where time is the horizontal axis, the planned longitudinal trajectory distance is the vertical axis and the planned longitudinal trajectory is a curve.</p><p>Our framework is designed to automatically identify and exclude such segments that are unrelated to the accident.</p><p>This reduces the workload of ADS engineers who can then immediately focus on the most important parts of the recording.</p><p>Our framework uses a priori knowledge to label frames containing potential accident risks, such as this one, as safety-critical frames.</p><p>The causal factors of this accident can be attributed to the incorrect priority and trajectory prediction by the prediction module, the flawed decision made by the planning module, and the vehicle’s skidding.</p><p>We use a scenario-based recording segmentation technique to merge the frames, and subsequently, we use specifications derived from the driver handbook and traffic laws of California to identify segments of the recording that are relevant to accidents.</p><p>Our adaptation extends the fuzzing engine by adding a recorder that captures the corresponding driving recording for each test case.</p><p>To facilitate causality analysis, we select and align messages from the communication channels of the map, localization, perception, prediction, and planning modules.</p><p>In the vectorization phase, our primary objective is to extract information related to accidents, which can be associated with the map, perception, prediction, and planning modules in the ADS.</p><p>The planning schema includes information on the main driving decision the AV currently executes, the operational design domain (ODD), motion, and whether it is safe according to the responsibility-sensitive safety (RSS) rules.</p><p>Our framework converts each frame into three feature vectors based on these three schemas.</p><p>The framework segments the recording by comparing the similarity of consecutive feature vectors.</p><p>Our framework generates segmentation plans for each of the three types of vector schemas previously described.</p><p>Our approach creates an overapproximation of relevant frames to narrow down our focus to the most crucial situations.</p><p>To classify a frame as irrelevant, we consider several factors.</p><p>If all of these conditions are met, we classify the frame as an irrelevant frame.</p><p>In the second stage, we automatically analyze the accident-related segments that were generated in the first stage to identify potential causes of the accident.</p><p>Next, we implement a causal analysis tool, CAT, that works by examining speed planning.</p><p>CAT compares their current speed planning and actual trajectory to deduce the causal events of the accident.</p><p>To ensure compliance with the rules outlined in the driver’s handbook, it is necessary to have a robust specification language that allows us to precisely describe these rules.</p><p>The specification language consists of propositions based on a set of pre-defined variables, as well as the usual logical connectors.</p><p>CAT analyzes frames labeled as safety-critical to determine whether the planning trajectory could intersect with other traffic participants in a way that might cause an accident.</p><p>CAT firstly checks the priority prediction of the NPC involved in the accident.</p><p>If the NPC’s priority prediction is ‘ignore’, it means that the cause of the collision is wrong priority prediction.</p><p>If the prediction of the NPC made no error, CAT checks the AV’s behavioral planning and then the motion planning.</p><p>If CAT finds that the AV’s planning is collision-free, it compares the actual trajectory with the planned trajectory.</p><p>While we have presented ACAV in the context of Apollo, the overall approach can be generalized to other ADSs.</p><p>To mitigate these differences in message format, we populated the missing fields with default values.</p><p>To evaluate the performance of our framework, we conducted experiments to answer the following research questions.</p><p>The optimal balance between recall and pruning efficiency is crucial for an effective segmenting method.</p><p>A threshold of 0.8 is optimal, as it strikes a balance between high record reduction performance and the retention of a sufficient number of safety-critical frames.</p><p>We assessed the effectiveness of the ACAV by analyzing the number of different causal events it could automatically identify.</p><p>ACAV successfully identified the causal events for 103 of these accident recordings.</p><p>We injected eight distinct fault types into the ADS.</p><p>ACAV performs well, accurately identifying causal events in 1064 out of the accident recordings.</p><p>We acknowledge certain limitations and threats to the validity of our evaluation.</p><p>Our evaluation is exclusively focused on the Apollo ADS.</p><p>It is imperative to acknowledge that the faults injected in RQ4 do not reflect the real-world faults in the ADSs.</p><p>We presented ACAV, an automated framework for determining the causal events in AV accidents.</p><p>We successfully implemented it in both Apollo and Autoware.universe and evaluated our framework using 110 accident driving recordings.</p><p>In future work, we are interested in developing automatic program repair techniques for ADSs, leveraging the results of causality analyses from accidents.</p>
    <h2>Original Abstract</h2> 
    <p>Autonomous Vehicles (AVs) rely on complex Autonomous Driving Systems (ADSs), whose failures can lead to critical safety issues. While high-fidelity simulation platforms like SVL and CARLA enable scalable testing, they often lack insight into the AV’s decision-making process during accidents. Existing causality analysis tools are ill-suited for AVs due to the modular, message-passing architecture of ADSs and the vast analysis space of simulation recordings. This paper introduces ACAV, an automated framework for causality analysis of AV accident recordings. ACAV first vectorizes simulation data through schemas that encode perception, prediction, planning, and map modules. It then segments the recordings using similarity metrics and labels safety-critical frames using specifications derived from driver handbooks and traffic laws. A second-stage analysis tool, CAT, identifies causal factors by examining speed planning, trajectory deviation, and module-level errors. Applied to Apollo 7.0 and Autoware.universe in the SVL simulator, ACAV achieved a 62.23% reduction in recording size without losing critical frames and identified causal events in 93.64% of accident scenarios. The system successfully pinpointed causes in 1064 recordings across various fault types. ACAV presents a generalizable approach to streamline post-accident analysis, reducing manual effort and aiding AV engineers in enhancing ADS safety.</p>
</body>
</html>
